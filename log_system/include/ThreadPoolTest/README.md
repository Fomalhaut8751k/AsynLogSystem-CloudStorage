# 线程池性能测试代码

### 运行以下代码测试线程池在效率上的提升
```cpp
./thread_pool_test_1
```
也可以自信修改代码后编译
```cpp
g++ -g thread_pool_test_*.cpp -o thread_pool_test -lpthread
```

计算1加到300000000，运行结果如下，硬件性能对结果有一定影响：

不使用线程池: result = 4500000001500000000, 用时: **3821069630ms**

使用线程池: result = 4500000001500000000, 用时: **2409669717ms**


### 运行以下代码测试线程池接受任务处理任务的效果
```cpp
./thread_pool_test_2
```

线程池的线程个数为4，任务队列上限为4，因此连续提交16个任务，每个任务的执行时间15s，就会有8个任务提交失败。